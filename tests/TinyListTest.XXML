// Absolutely minimal list test
#import Language::Core;
#import Language::Collections;
#import System;

[ Entrypoint
{
	Run System::Console::printLine(String::Constructor("Step 1: About to create list"));
	Instantiate List<Integer>^ As <numbers> = List@Integer::Constructor();
	Run System::Console::printLine(String::Constructor("Step 2: List created, calling init"));
	Run numbers.init();
	Run System::Console::printLine(String::Constructor("Step 3: Init done"));

	Run System::Console::printLine(String::Constructor("Step 4: Adding element"));
	Run numbers.add(Integer::Constructor(42));
	Run System::Console::printLine(String::Constructor("Step 5: Element added"));

	Instantiate Integer^ As <sz> = numbers.size();
	Run System::Console::print(String::Constructor("Size: "));
	Run System::Console::printLine(sz.toString());

	Exit(0);
}
]
