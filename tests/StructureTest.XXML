#import Language::Core;
#import System;

// Simple structure with properties and constructor
[ Structure <Point>
    [ Public<>
        Property <x> Types Integer^;
        Property <y> Types Integer^;

        Constructor Parameters (Parameter <px> Types Integer%, Parameter <py> Types Integer%) -> {
            Set x = px;
            Set y = py;
        }

        Method <getX> Returns Integer^ Parameters () -> {
            Return x;
        }

        Method <getY> Returns Integer^ Parameters () -> {
            Return y;
        }
    ]
]

[ Entrypoint
{
    Run System::Console::printLine(String::Constructor("=== Structure Test ==="));

    // Create a Point structure on the stack (using % for value semantics)
    Instantiate Point% As <p> = Point::Constructor(Integer::Constructor(3), Integer::Constructor(4));

    // Access and print values
    Run System::Console::print(String::Constructor("X: "));
    Run System::Console::printLine(p.getX().toString());
    Run System::Console::print(String::Constructor("Y: "));
    Run System::Console::printLine(p.getY().toString());

    Run System::Console::printLine(String::Constructor("=== Done ==="));
    Exit(0);
}
]
